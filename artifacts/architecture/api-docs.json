{"openapi":"3.0.1","info":{"title":"OpenAPI definition","version":"v0"},"servers":[{"url":"http://localhost:8080","description":"Generated server url"}],"paths":{"/user/edit":{"put":{"tags":["REST API: Пользователь"],"summary":"Редактирование имени пользователя","operationId":"editUser","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserRequest"}}},"required":true},"responses":{"400":{"description":"Bad Request","content":{"*/*":{"schema":{"type":"object","additionalProperties":{"type":"array","items":{"type":"string"}}}}}},"418":{"description":"I'm a teapot","content":{"*/*":{"schema":{"type":"array","items":{"type":"string"}}}}},"200":{"description":"OK"}}}},"/transaction/{id}/status":{"put":{"tags":["REST API: Транзакции"],"summary":"Изменение статуса транзакции","operationId":"statusTransaction","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TransactionStatusRequest"}}},"required":true},"responses":{"400":{"description":"Bad Request","content":{"*/*":{"schema":{"type":"object","additionalProperties":{"type":"array","items":{"type":"string"}}}}}},"418":{"description":"I'm a teapot","content":{"*/*":{"schema":{"type":"array","items":{"type":"string"}}}}},"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TransactionResponse"}}}}}}},"/transaction/{id}/edit":{"put":{"tags":["REST API: Транзакции"],"summary":"Редактирование транзакции","operationId":"editTransaction","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TransactionRequest"}}},"required":true},"responses":{"400":{"description":"Bad Request","content":{"*/*":{"schema":{"type":"object","additionalProperties":{"type":"array","items":{"type":"string"}}}}}},"418":{"description":"I'm a teapot","content":{"*/*":{"schema":{"type":"array","items":{"type":"string"}}}}},"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TransactionResponse"}}}}}}},"/category/{id}/edit":{"put":{"tags":["REST API: Категории"],"summary":"Редактирование категории","operationId":"editCategory","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CategoryRequest"}}},"required":true},"responses":{"400":{"description":"Bad Request","content":{"*/*":{"schema":{"type":"object","additionalProperties":{"type":"array","items":{"type":"string"}}}}}},"418":{"description":"I'm a teapot","content":{"*/*":{"schema":{"type":"array","items":{"type":"string"}}}}},"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CategoryResponse"}}}}}}},"/auth/password/change":{"put":{"tags":["REST API: Аутентификация"],"summary":"Смена пароля пользователя","operationId":"passwordChange","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChangePasswordRequest"}}},"required":true},"responses":{"400":{"description":"Bad Request","content":{"*/*":{"schema":{"type":"object","additionalProperties":{"type":"array","items":{"type":"string"}}}}}},"418":{"description":"I'm a teapot","content":{"*/*":{"schema":{"type":"array","items":{"type":"string"}}}}},"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/JwtAuthenticationResponse"}}}}}}},"/transaction/add":{"post":{"tags":["REST API: Транзакции"],"summary":"Добавление транзакции","operationId":"addTransaction","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TransactionRequest"}}},"required":true},"responses":{"400":{"description":"Bad Request","content":{"*/*":{"schema":{"type":"object","additionalProperties":{"type":"array","items":{"type":"string"}}}}}},"418":{"description":"I'm a teapot","content":{"*/*":{"schema":{"type":"array","items":{"type":"string"}}}}},"201":{"description":"Created","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TransactionResponse"}}}}}}},"/category/add":{"post":{"tags":["REST API: Категории"],"summary":"Добавление категории","operationId":"addCategory","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CategoryRequest"}}},"required":true},"responses":{"400":{"description":"Bad Request","content":{"*/*":{"schema":{"type":"object","additionalProperties":{"type":"array","items":{"type":"string"}}}}}},"418":{"description":"I'm a teapot","content":{"*/*":{"schema":{"type":"array","items":{"type":"string"}}}}},"201":{"description":"Created","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CategoryResponse"}}}}}}},"/auth/sign/up":{"post":{"tags":["REST API: Аутентификация"],"summary":"Регистрация пользователя","operationId":"signUp","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SignUpRequest"}}},"required":true},"responses":{"400":{"description":"Bad Request","content":{"*/*":{"schema":{"type":"object","additionalProperties":{"type":"array","items":{"type":"string"}}}}}},"418":{"description":"I'm a teapot","content":{"*/*":{"schema":{"type":"array","items":{"type":"string"}}}}},"201":{"description":"Created","content":{"application/json":{"schema":{"$ref":"#/components/schemas/JwtAuthenticationResponse"}}}}}}},"/auth/sign/in":{"post":{"tags":["REST API: Аутентификация"],"summary":"Авторизация пользователя","operationId":"signIn","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SignInRequest"}}},"required":true},"responses":{"400":{"description":"Bad Request","content":{"*/*":{"schema":{"type":"object","additionalProperties":{"type":"array","items":{"type":"string"}}}}}},"418":{"description":"I'm a teapot","content":{"*/*":{"schema":{"type":"array","items":{"type":"string"}}}}},"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/JwtAuthenticationResponse"}}}}}}},"/transaction/search":{"get":{"tags":["REST API: Транзакции"],"summary":"Все транзакции","operationId":"searchTransactions","parameters":[{"name":"properties","in":"query","required":true,"schema":{"$ref":"#/components/schemas/FilterDTO"}}],"responses":{"400":{"description":"Bad Request","content":{"*/*":{"schema":{"type":"object","additionalProperties":{"type":"array","items":{"type":"string"}}}}}},"418":{"description":"I'm a teapot","content":{"*/*":{"schema":{"type":"array","items":{"type":"string"}}}}},"200":{"description":"OK","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/TransactionResponse"}}}}}}}},"/transaction/export":{"get":{"tags":["REST API: Транзакции"],"summary":"Экспорт транзакций пользователя в Excel","operationId":"export","parameters":[{"name":"properties","in":"query","required":true,"schema":{"$ref":"#/components/schemas/FilterDTO"}}],"responses":{"400":{"description":"Bad Request","content":{"*/*":{"schema":{"type":"object","additionalProperties":{"type":"array","items":{"type":"string"}}}}}},"418":{"description":"I'm a teapot","content":{"*/*":{"schema":{"type":"array","items":{"type":"string"}}}}},"200":{"description":"OK"}}}},"/category/all":{"get":{"tags":["REST API: Категории"],"summary":"Все категории","operationId":"listCategory","responses":{"400":{"description":"Bad Request","content":{"*/*":{"schema":{"type":"object","additionalProperties":{"type":"array","items":{"type":"string"}}}}}},"418":{"description":"I'm a teapot","content":{"*/*":{"schema":{"type":"array","items":{"type":"string"}}}}},"200":{"description":"OK","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/CategoryResponse"}}}}}}}},"/transaction/{id}/delete":{"delete":{"tags":["REST API: Транзакции"],"summary":"Удаление транзакции","operationId":"deleteTransaction","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"400":{"description":"Bad Request","content":{"*/*":{"schema":{"type":"object","additionalProperties":{"type":"array","items":{"type":"string"}}}}}},"418":{"description":"I'm a teapot","content":{"*/*":{"schema":{"type":"array","items":{"type":"string"}}}}},"200":{"description":"OK"}}}}},"components":{"schemas":{"UserRequest":{"required":["username"],"type":"object","properties":{"username":{"maxLength":50,"minLength":1,"type":"string","description":"Имя пользователя","example":"Вася"}},"description":"Пользователь: DTO запроса"},"TransactionStatusRequest":{"required":["status"],"type":"object","properties":{"status":{"type":"string","description":"Статус операции","example":"Платеж выполнен","enum":["Новая","Подтвержденная","В обработке","Отменена","Платеж выполнен","Платеж удален","Возврат"]}},"description":"Транзакция: DTO смены статуса"},"CategoryResponse":{"required":["id","name"],"type":"object","properties":{"id":{"type":"integer","description":"Первичный ключ","format":"int64","example":1},"name":{"type":"string","description":"Название категории","example":"Доходы"}},"description":"Категория: DTO ответа"},"TransactionResponse":{"type":"object","properties":{"id":{"type":"integer","description":"Первичный ключ","format":"int64","example":1},"customerType":{"type":"string","description":"Тип лица","example":"Физическое лицо","enum":["Физическое лицо","Юридическое лицо"]},"transactionTime":{"pattern":"dd-MM-yyyy HH:mm:ss","type":"string","description":"Дата и время операции","format":"date-time"},"transactionType":{"type":"string","description":"Тип транзакции","example":"Поступление","enum":["Списание","Поступление"]},"description":{"type":"string","description":"Комментарий к операции"},"sumValue":{"type":"number","description":"Сумма","example":100.5},"status":{"type":"string","description":"Статус операции","example":"Новая","enum":["Новая","Подтвержденная","В обработке","Отменена","Платеж выполнен","Платеж удален","Возврат"]},"senderBank":{"type":"string","description":"Банк отправителя"},"account":{"type":"string","description":"Счет поступления/списания"},"recipientBank":{"type":"string","description":"Банк получателя"},"inn":{"type":"string","description":"ИНН получателя"},"recipientAccount":{"type":"string","description":"Расчетный счет получателя"},"category":{"$ref":"#/components/schemas/CategoryResponse"},"phone":{"type":"string","description":"Телефон"}},"description":"Транзакция: DTO ответа"},"TransactionRequest":{"required":["account","categoryId","customerType","inn","phone","recipientAccount","recipientBank","senderBank","sumValue","transactionTime","transactionType"],"type":"object","properties":{"customerType":{"type":"string","description":"Тип лица","example":"Физическое лицо","enum":["Физическое лицо","Юридическое лицо"]},"transactionTime":{"pattern":"dd-MM-yyyy HH:mm:ss","type":"string","description":"Дата и время операции","format":"date-time"},"transactionType":{"type":"string","description":"Тип транзакции","example":"Поступление","enum":["Списание","Поступление"]},"description":{"maxLength":255,"minLength":0,"type":"string","description":"Комментарий к операции"},"sumValue":{"type":"number","description":"Сумма","example":100.5},"senderBank":{"maxLength":255,"minLength":0,"type":"string","description":"Банк отправителя"},"account":{"maxLength":255,"minLength":0,"type":"string","description":"Счет поступления/списания"},"recipientBank":{"maxLength":255,"minLength":0,"type":"string","description":"Банк получателя"},"inn":{"pattern":"\\d{10}","type":"string","description":"ИНН получателя"},"recipientAccount":{"type":"string","description":"Расчетный счет получателя"},"categoryId":{"type":"integer","description":"Идентификатор категории","format":"int64"},"phone":{"pattern":"^(8|\\+7)\\d{10}","type":"string","description":"Телефон"}},"description":"Транзакция: DTO запроса"},"CategoryRequest":{"required":["name"],"type":"object","properties":{"name":{"maxLength":255,"minLength":1,"type":"string","description":"Название категории","example":"Доходы"}},"description":"Категория: DTO запроса"},"ChangePasswordRequest":{"required":["password"],"type":"object","properties":{"password":{"maxLength":255,"minLength":8,"type":"string","description":"Пароль","example":"my_1secret1_password"}},"description":"Запрос на смену пароля"},"JwtAuthenticationResponse":{"required":["token"],"type":"object","properties":{"token":{"type":"string","description":"Токен доступа","example":"eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsImV4cCI6MTYyMjUwNj..."}},"description":"Ответ c токеном доступа"},"SignUpRequest":{"required":["password","username"],"type":"object","properties":{"username":{"maxLength":50,"minLength":1,"type":"string","description":"Имя пользователя","example":"Вася"},"password":{"maxLength":255,"minLength":8,"type":"string","description":"Пароль","example":"my_1secret1_password"}},"description":"Запрос на регистрацию"},"SignInRequest":{"required":["password","username"],"type":"object","properties":{"username":{"maxLength":50,"minLength":1,"type":"string","description":"Имя пользователя","example":"Вася"},"password":{"maxLength":255,"minLength":8,"type":"string","description":"Пароль","example":"my_1secret1_password"}},"description":"Запрос на аутентификацию"},"FilterDTO":{"type":"object","properties":{"senderBank":{"type":"string","description":"Фильтр по банку отправителя"},"recipientBank":{"type":"string","description":"Фильтр по банку получателя"},"dateStart":{"type":"string","description":"Минимальная дата диапазона (условие - больше или равно)","format":"date-time"},"dateEnd":{"type":"string","description":"Максимальная дата диапазона (условие - строго меньше)","format":"date-time"},"status":{"type":"string","description":"Фильтр по статусу транзакции"},"inn":{"type":"string","description":"Фильтр по инн"},"minSumValue":{"type":"number","description":"Минимальное значение суммы операции (условие - больше или равно)"},"maxSumValue":{"type":"number","description":"Максимальное значение суммы операции (условие - строго меньше)"},"transactionType":{"type":"string","description":"Фильтр по типу операции"},"categoryName":{"type":"string","description":"Фильтр по категории"}},"description":"DTO с полями для фильтрации транзакций"}}}}